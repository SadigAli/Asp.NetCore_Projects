@model List<Product>
@{
    ViewData["Title"] = "Index";
}

<div class="maincontainer left-sidebar">
    <div class="container">
        <div class="row">
            <div class="col-sm-8 col-md-9 main-content">
                <!-- Sortbar -->
                <div class="sortBar">
                    <div class="sortBar-left">
                        <form class="ordering">
                            <select>
                                <option value="">SHORT BY</option>
                                <option value="">Sort by popularity</option>
                                <option value="">Sort by average rating</option>
                                <option value="">Sort by price: low to high</option>
                            </select>
                            <select>
                                <option value="">Postion</option>
                                <option value="">Sort by popularity</option>
                                <option value="">Sort by average rating</option>
                                <option value="">Sort by price: low to high</option>
                            </select>
                        </form>
                        <div class="display-product-option">
                            <a href="#" class="view-as-grid selected"><i class="fa fa-th-large"></i></a>
                            <a href="#" class="view-as-list"><i class="fa fa-th-list"></i></a>
                        </div>
                    </div>
                    <div class="sortBar-right">
                        <div class="result-count">
                            SHOW ITEMS 1 to 12 of 36 total
                        </div>
                    </div>
                </div>
                <!-- ./ SortBar -->
                <!-- List products -->
                <ul class="products row">
                    @foreach (Product product in Model)
                    {
                        <li class="product col-sm-6 col-md-4">
                            <div class="product-thumb">
                                <a href="single-product.html">
                                    <img width="200" height="250" src="~/uploads/products/@product.ProductColors.FirstOrDefault()?.ProductImages.FirstOrDefault(x=>x.PosterStatus==true).Image" alt="">
                                </a>
                                <div class="product-button">
                                    <a href="#" class="button-compare">Compare</a>
                                    <a href="#" class="button-wishlist">Wishlist</a>
                                    <a href="#" class="button-quickview">Quick view</a>
                                </div>
                            </div>
                            <div class="product-info">
                                <h3><a href="#">@product.Name</a></h3>
                                <span class="product-price">$@(product.DiscountPrice!=0?product.SalePrice-product.DiscountPrice:product.SalePrice)</span>
                                <a asp-controller="product" asp-action="addtocart" asp-route-id="@product.Id" class="button-add-to-cart">ADD TO CART</a>
                            </div>
                        </li>
                    }
                </ul>
                <nav class="pagination">
                    <ul>
                        @if (ViewBag.Page != 1)
                        {
                            <li><a asp-route-page="@(ViewBag.Page-1)">Prev</a></li>
                        }
                        @for (int i = 1; i <= Math.Ceiling((decimal)ViewBag.Count / 6); i++)
                        {
                            if (ViewBag.Page == i)
                            {
                                <li class="active"><a asp-route-page="@i">@i</a></li>

                            }
                            else
                            {
                                <li><a asp-route-page="@i">@i</a></li>
                            }

                        }
                        @if (ViewBag.Page != Math.Ceiling((decimal)ViewBag.Count / 6))
                        {
                            <li><a asp-route-page="@(ViewBag.Page+1)">Next</a></li>
                        }
                    </ul>
                </nav>
                <!-- ./ List Products -->
            </div>
            <!-- Sliderbar -->
            <div class="col-sm-4 col-md-3 sidebar">
                <!-- Product category -->
                <div class="widget widget_product_categories">
                    <h2 class="widget-title">By Categories</h2>
                    <ul class="product-categories">
                        <li class="cat-parent current-cat-parent">
                            <a href="#">Accessories</a>
                            <ul class="children">
                                <li class="current-cat"><a href="#">Men</a></li>
                                <li><a href="#">Women</a></li>
                                <li><a href="#">Kids</a></li>
                            </ul>
                        </li>
                        <li class="cat-parent">
                            <a href="#">Handbags</a>
                            <ul class="children">
                                <li><a href="#">Men bags</a></li>
                                <li><a href="#">Women bags</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Mencare</a></li>
                        <li><a href="#">Watches</a></li>
                        <li><a href="#">Clothings</a></li>
                        <li><a href="#">Jackets</a></li>
                        <li><a href="#">Jeans</a></li>
                        <li><a href="#">T-Shirts</a></li>
                        <li><a href="#">Shoes</a></li>
                    </ul>
                </div>
                <!-- ./Product category -->
                <!-- Filter color -->
                <div class="widget widget_layered_nav">
                    <h2 class="widget-title">BY COLORS</h2>
                    <ul>
                        <li><a href="#">RED</a></li>
                        <li><a href="#">BLUE</a></li>
                        <li><a href="#">CYAN</a></li>
                        <li><a href="#">ORANGER</a></li>
                        <li><a href="#">BLACK & WHITE</a></li>
                        <li><a href="#">PURPULE</a></li>
                    </ul>
                </div>
                <!-- ./Filter color -->
                <!-- Filter price -->
                <div class="widget widget_price_filter">
                    <h2 class="widget-title">BY PRICES</h2>
                    <div class="price_slider_wrapper">
                        <div class="amount-range-price">$50 - $350</div>
                        <div data-label-reasult="" data-min="0" data-max="500" data-unit="$" class="slider-range-price" data-value-min="50" data-value-max="350"></div>
                        <form>
                            <input type="hidden" name="min" class="min" value="50" />
                            <input type="hidden" name="max" class="max" value="350" />
                            <button class="button" type="submit">Filter</button>
                        </form>
                    </div>
                </div>
                <!-- ./Filter price -->
                <!-- Compare products -->
                <div class="widget yith-woocompare-widget">
                    <h2 class="widget-title">COMPARE PRODUCTS</h2>
                    <div class="no-product">
                        NO PRODUCTS HAVE COMPARE
                    </div>
                </div>
                <!-- ./Compare products -->
                <!-- Product tags -->
                <div class="widget widget_product_tag_cloud">
                    <h2 class="widget-title">POPULAR TAGS</h2>
                    <div class="tagcloud">
                        <a href="#">Cotton</a>
                        <a href="#">Leggings</a>
                        <a href="#">Men</a>
                        <a href="#">Shirt</a>
                        <a href="#">T-shirt</a>
                        <a href="#">COSMETIC</a>
                        <a href="#">SOFT WEAR</a>
                        <a href="#">ACCESSORIES</a>
                        <a href="#">LIFE STYLE</a>
                    </div>
                </div>
                <!-- ./Product tags -->
                <!-- Product tags -->
                <div class="widget widget_custom_image">
                    <a href="#"><img src="~/images/b/b9.jpg" alt="" /></a>
                </div>
                <!-- ./Product tags -->
            </div>
            <!-- ./Sidebar -->
        </div>
    </div>
</div>
